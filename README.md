# Py-Raid

---

## 서두

서울과학기술대학교 2023년도 2학기 OSS term project 과제입니다.

python을 사용하여 제작했습니다,.

numpy, PyQt5, threading등 다양한 라이브러리를 사용하였습니다.

게임 프로젝트임에도 py game을 사용하지 않고 PyQt5를 이용하여 구현하였기 때문에, 최적화가 되어있지 않고 CPU 사양이 좋지 않으면 원활한 진행이 힘들 수 있습니다.

## 본 게임에 대해

### 조작법

- a: 좌측 이동
- d:우측 이동
- w: 점프

### 목적

거대한 보스의 공격을 피하고, 맵 곳곳에 나타나는 아이템을 이용해 보스를 공격하여 섬멸하는것이 이 게임의 목적입니다.

## 개요

이 게임은 Window Kill과 Terraria에 영향을 받아 만들었습니다.

윈도우 킬은 단순한 캐쥬얼 탄막 슈팅 게임입니다. 이 게임은 플레이어의 창이 계속해서 줄어 들고, 다른 창에 있는 적들이 플레이어를 공격한다는 특징이 있습니다.

테라리아는 2D 샌드박스 게임으로, 낮에는 집을 짓고 밤에는 차례로 나타나는 보스를 섬멸하는 것이 목표입니다.

이 두 게임에서 아이디어를 얻어 게임 기획을 시작하였습니다.

중력이 작용하는 2D 화면의 게임에서 창밖에 존재하는 보스의 공격을 피하며 살아남는 것이 이 게임의 목적입니다.

![Untitled](Py-Raid%20d3aa9bf6ad67460886bc8aba0884d731/Untitled.png)

![Untitled](Py-Raid%20d3aa9bf6ad67460886bc8aba0884d731/Untitled%201.png)

## PyQt5

이 게임의 척추는 PyQt5로 이루어져 있습니다.

게임을 만들기에 pyGame라이브러리가 조금 더 적절할 수 있지만, 플레이어, 보스, 발판등의 창들을 관리하고, 외부 모듈 없이 자체적으로 동기적 코드 실행이 가능하다는 장점이 있어 PyQt를 사용하였습니다.

무엇보다 창을 띄우는 라이브러리로 게임을 만든다는 것은 멋있다고 생각합니다.

PyQt는 각 창을 관리합니다. DB로 부터 플레이어, 보스, 발판의 정보를 가져와서 창에 각 객체를 그려냅니다. 뿐만 아니라 피격 판정, 아이템의 생성 및 사용, 탄막의 이동등의 동적 요소들은 PyQt 객체 안에서 정의되며 반복적으로 실행됩니다.

## DB

플레이어의 체력, 창의 크기, 적의 색, 탄막의 위치등 게임 내부에 필요한 모든 정보를 DB객체에 저장하였습니다. 

사실 처음 게임을 제작할 당시에는 DB가 존재하지 않았습니다. 그러나 많은 수의 발판, 탄막등을 추가하려다 보니, 코드가 난잡해지고 유지가 불가능한 상황을 마주쳤습니다. 이후, 당시까지의 작업을 전부 폐기하고 처음부터 DB를 염두에 두고 코드를 짜기 시작했습니다.

(잘한것) 레이저 회전, 레이저 쏘기, 돌진, 탄막 이동 벡터, 피격판정 등에 다양한 수학적 요소 사용

이동하기: 원래 꾹누르면 죽 주우우욱 이동하는거 없애려고 많은 노력을 기울임

점프하기: 이거 땅에 안닿아있으면 점프 못하게, 또 땅에 닿았는지 판단하는 부분. 점프 개힘듦

## 아쉬운 점

### 스파게티 코드

이 프로젝트를 처음 진행하게 되었을 때의 저는 아직 깔끔한 코딩에 대한 개념이 부족했습니다.

이후 학습을 계속하면서 간결한 코드의 장점에 대해 알게 되었습니다.

그때 지금까지 짠 코드의 문제점들이 눈에 들어오기 시작했지만, 이미 리펙토링을 하기엔 시간이 절대적으로 부족하다는 아쉬움이 남습니다.

함수 매개인자를 튜플로 넘겨주기, 데이터베이스에 모든 객체가 사용하는 속성(색상 등) 추가하기, 발판을 클래스로 관리하기 등의 바꾸고 싶은 부분은 많지만 이를 진행하지 못하여 아쉬움이 큽니다.

### 공격 패턴의 단조로움

보스가 플레이어를 공격하는 패턴이 몇 없다는것이 큰 아쉬움입니다.

### 추가하지 못한 기능들

게임의 완성도를 높이기 위해 추가하고 싶은 기능들이 몇 있습니다.

- 플레이어가 피격당했을 시 넉백 판정
- 보스의 공격 전 패턴을 유추할 수 있는 사전 동작

이러한 요소들을 도입한다면 게임에 더 몰입 할 수 있을것이라 생각합니다.

## 느낀 점
